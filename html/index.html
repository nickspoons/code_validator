<!doctype html>
<html lang="en">
<head>
   <meta charset="utf-8">
   <title>Code Validator</title>

   <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
   <link rel="icon" type="image/png" sizes="96x96" href="html/assets/icons/favicon-96.png">
   <link rel="icon" type="image/png" sizes="48x48" href="html/assets/icons/favicon-48.png">
   <link rel="icon" type="image/png" sizes="16x16" href="html/assets/icons/favicon-16.png">
   <link rel="shortcut icon" href="html/assets/icons/favicon-16.png">
   <meta name="msapplication-TileColor" content="#2b5797">
   <meta name="theme-color" content="#c8d3de" media="(prefers-color-scheme: light)">
   <meta name="theme-color" content="#565656" media="(prefers-color-scheme: dark)">

   <link rel="stylesheet" href="html/assets/styles/bolt.css">
   <link rel="stylesheet" href="html/assets/styles/validator.css">
</head>
<body>

   <h2>Code Validator</h2>
   <p id="output"></p>

<script>
   const params = new URLSearchParams(location.search);
   const code = params.get('code');
   fetch('.netlify/functions/validate?code=' + code)
      .then(response => response.json())
      .then(data => {
         const output = document.querySelector('#output');
         output.innerHTML = data.isValid ? 'Yay!' : 'Neigh';
      })
      .catch(error => console.log(error));
</script>
</body>
</html>
